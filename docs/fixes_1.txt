[+]0. Мультивыбор мастеров.
[+]1. Создать поле price для workers
-2. IndexOutOfBoundsException в выпадающем списке workers - черный список да/нет.
-2. IndexOutOfBoundsException в выпадающем списке archive.
-2. IndexOutOfBoundsException в выпадающем списке region.
-2. IndexOutOfBoundsException в selection order filter.
[+]-3. TableTreeView в статистике workers по заказам.
[-]-4. Статистика фильтра в statusBar.
[+]-5. Проверить статистику в шапке.
[+]3. Убрать кнопку "в архив".

[+]1. уникальный номер каждого заказа
[+]2. Адрес заказчика - не обязательное поле
[+]3. Район заказчика - обязательное поле из списка
[+]4. Время назначения мастера - автоматически
[+]8. дата начала работ, дата окончания работ - свободные поля в карточке заказа.
[+]9. В карточке заказа нужно поле сумма заказа (свободное поле)
[+]10. Источник заказа - по умолчанию "не указан", если что-то указали - то то что указали 10, ок, по другому - источник заказа - не обязательное для заполнение поле. Если не заполнили - стоит "не указано". Или вообще ничего не стоит.
[+]12. Заказ без мастера редактируется
[+]11. в карточке заказа отображается имя и телефон мастера
[+]20. В карточке заказа - свободное поле "примечание"
[+]17. Фото мастера в карточке. (файл подгружаться будет)
[+]19. Черный список для мастеров
[+]21. В карточке мастера - свободное поле "примечание"


[+]5. История смены статусов заказа фиксируется в карточке заказа
++++++++++++
Таблица:
orders_timeline
ID
ID_заказа (в orders)
ID_статуса (в status)
Время_установки
ID_мастера (в workers)
ID_диспетчера (в users)
Примечание (для Замена мастера, Отказ по вине мастера, Отказ по вине заказчика)

В фронте одна таблица.

[+]6. Если назначен мастер - у него в карточке появляется статистика заказа.
[+]7. При назначении мастера - должны быть кнопки "не взял заказ" (новое поле), "был недоступен", "назначен на заказ" (автоматически), "заменить мастера" (автоматически) (причины замены) - может список пополнится. Все эти действия фиксируются в карточке мастера. Желательно что бы была развернутая версия - с датой и временем присвоения каждого пункта статистики и в идеале с именем диспетчера, который назначил этот статус.
+++++++++++

[+]Таблица1:
workers_reaction (реакции)
1 - не взял заказ (кнопка)
2 - был недоступен (кнопка)
3 - назначен на заказ (в работе) - смена статус.
4 - замена мастера - смена статуса. (для Замена мастера)
5 - отказ - смена статуса. (для Отказ по вине мастера, Отказ по вине заказчика)
6 - выполнен - смена статуса.
7 - добавлен в черный список - смена статуса.

[+]Cтатистика по рабочим:
- выполнено
- в работе
- был недоступен
- был заменен
- не взял заказ


[+]Таблица2:
workers_timeline:
ID
ID_мастера
ID_заказа
Время_установки
Реакция
Причина (для Замена мастера, Отказ по вине мастера, Отказ по вине заказчика)
ID_диспетчера

[+]В фронте:
1 таблица: заказы

[+]13. Автоматический таймер в строке заказа сколько времени прошло с момента назначения статуса
[+]14. Заказы со стасусами "Отмена" и "Выполнен и оплачен" - уходят в архив.
[+]15. Сумма оплаченая мастером за заказ. Суммы сумируются в карточке мастера.
[+]15. Мастера получают заказ от диспетчера. Созваниваются сами с заказчиком, выполняют работу, а нам перечисляют % от заказа. Это и есть сумма, которую нам перечислил мастер. Диспетчер это учитывает. По показателям (суммы полученые от мастера, количество сделаных заказов, количество не сделаных заказов) диспетчер принимает решение кому отдать заказ.
[+]16. Возможность делать выборку типа: за период с 01.01.01 по 15.02.01 - количество заказов по каждой категории, количество выполненых заказов, не выполненых заказов и т.д.
выборка будет по дате заказа и по статусам. начало работ, окончание работ - это статус. В нем ставится время, когда статус присвоен. По факту дата ла работ - очень плавающая еденица.
[+]18. Заказы со статусом "выполнен и оплачен" и "отказ" (писал выше) - уходят в архив. Архив должен храниться. Архивные заказы должна быть возможность смотреть и делать по ним выборку по статистике.


статусы заказов:
++++++++
[+]1. В ожидании назначения мастера
- запись в orders_timeline

[+]2. Мастер назначен, ожидаем ответ заказчика
- запись в orders_timeline
- запись в workers_timeline => reaction = 3

[+]3. Заказчик договорился с мастером, ожидаем начало работ
- запись в orders_timeline
- запись в workers статистика +1 inwork

[+]4. Замена мастера
- запись в orders_timeline
- запись в workers_timeline => reaction = 4
- запись в workers статистика +1 waschanged
- запись в workers статистика -1 inwork
- запись в workers_timeline => reaction = 3
- запись в workers статистика +1 inwork

[+]5. Заказчик думает
- запись в orders_timeline

[+]6. Отказ по вине мастера (в архив)
(при отказе желательно указать причину отказа) - свободное поле. Отображается в карточке заказа, в выборке не отражается.
- ЗАПРОС причины отказа в UI.
- запись в orders_timeline
- запись в workers_timeline => reaction = 5
- запись в workers статистика -1 inwork
- изменение в orders => archive = 1

[+]7. Отказ по вине заказчика (в архив)  (запись в orders_timeline, запись в workers_timeline)
- ЗАПРОС причины отказа в UI.
- запись в orders_timeline
- запись в workers_timeline => reaction = 5
- запись в workers статистика -1 inwork
- изменение в orders => archive = 1

[+]8. Мастер на объекте, ожидаем окончание работ
- запись в orders_timeline

[+]9. Заказ выполнен, ожидаем оплаты от мастера
- запись в orders_timeline

[+]10. Заказ выполнен, оплачен (в архив)
- запись в orders_timeline
- запись в workers_timeline => reaction = 6
- запись в workers статистика +1 done
- запись в workers статистика -1 inwork
- +сумма в price поле мастера
- изменение в orders => archive = 1

[+]11. Мастер не рассчитался (в архив, мастера в черный список)
- запись в orders_timeline
- запись в workers_timeline => reaction = 7
- + 1 в blacklist поле мастера
- изменение в orders => archive = 1

[+]12. Заказчик не расчитался (в архив)
- запись в orders_timeline
- запись в workers_timeline => reaction = 6
- запись в workers статистика +1 в выполнено
- запись в workers статистика -1 inwork
- изменение в orders => archive = 1

+++++++++++++


[+]22. насчет подсветки заказов.
[+]1. При регистрации заказа статус по умолчанию "В ожидании назначения мастера". Через 15 минут с момента регистрации заказа, если статус не сменился с "в ожидании назначения мастера" - строка заказа подсвечивается оранжевым цветом.
[+]2. При назначении статуса "Мастер назначен, ожидаем ответ заказчика" - через 15 минут строка заказа подсвечивается красным.
